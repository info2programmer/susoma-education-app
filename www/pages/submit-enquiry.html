<template>
    <div class="page">
        <div class="navbar">
            <div class="navbar-inner sliding">
                <div class="left">
                    <a href="#" class="back link">
                        <i class="icon icon-back"></i>
                        <span class="ios-only">Back</span>
                    </a>
                </div>
                <div class="title">Enquiry</div>
            </div>
        </div>
        <!-- <div class="fab fab-extended fab-center-bottom color-green">
            <a href="#">
                <i class="icon f7-icons ios-only">add</i>
                <i class="icon material-icons md-only">add</i>
                <div class="fab-text">Add Review</div>
            </a>
        </div> -->
        <div class="page-content">
            <form class="list no-hairlines-md" id="enquiry-form">
                <ul>
                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">person_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Candidate Name</div>
                            <div class="item-input-wrap">
                                <input type="text" placeholder="Name" id="enqname">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">persons_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Guardian Name</div>
                            <div class="item-input-wrap">
                                <input type="text" placeholder="Name" id="enqgurdianname">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>


                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">phone_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Phone</div>
                            <div class="item-input-wrap">
                                <input type="number" placeholder="Phone" id="enqphone">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">calendar_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Date of birth</div>
                            <div class="item-input-wrap">
                                <input type="date" placeholder="Date of birth" id="enqdob" onchange="phonegapApp.calculateAge(this.value)">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">check_round_fill</i>
                        </div>
                        <div class="item-inner">
                            <!-- <div class="item-title item-floating-label">Age As On</div> -->
                            <div class="item-input-wrap">
                                <input type="text" id="enqage" readonly>
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">layers</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Class</div>
                            <div class="item-input-wrap">
                                <input type="text" id="enqclass" placeholder="Enter Class">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">home_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">School</div>
                            <div class="item-input-wrap">
                                <input type="text" id="enqschool" placeholder="Enter School">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">favorites_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-input-wrap">
                                <select name="ddlMedium" id="ddlMedium">
                                    <option value="" select hidden>Select Medium</option>
                                    <option value="Bengali">Bengali</option>
                                    <option value="Hindi">Hindi</option>
                                    <option value="English">English</option>
                                </select>
                            </div>
                        </div>
                    </li>


                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">document_text</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-title item-floating-label">Previous (if any) Details</div>
                            <div class="item-input-wrap">
                                <input type="text" id="enqprevious" placeholder="Enter School">
                                <span class="input-clear-button"></span>
                            </div>
                        </div>
                    </li>

                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">compose_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-input-wrap">
                                <select id="ddlSubject1">
                                    <option value="">Select Subject 1</option>
                                    <option value="Art and Craft">Art and Craft</option>
                                    <option value="Bharatnatyam">Bharatnatyam</option>
                                    <option value="Katthak">Katthak</option>
                                    <option value="Odissi">Odissi</option>
                                    <option value="Classical music">Classical music</option>
                                    <option value="Recitation">Recitation</option>
                                    <option value="Spanish Guitar">Spanish Guitar</option>
                                    <option value="Key Board">Key Board</option>
                                    <option value="Western">Western</option>
                                </select>
                            </div>
                        </div>
                    </li>
                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">compose_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-input-wrap">
                                <select id="ddlSubject2">
                                    <option value="">Select Subject 2</option>
                                    <option value="Art and Craft">Art and Craft</option>
                                    <option value="Bharatnatyam">Bharatnatyam</option>
                                    <option value="Katthak">Katthak</option>
                                    <option value="Odissi">Odissi</option>
                                    <option value="Classical music">Classical music</option>
                                    <option value="Recitation">Recitation</option>
                                    <option value="Spanish Guitar">Spanish Guitar</option>
                                    <option value="Key Board">Key Board</option>
                                    <option value="Western">Western</option>
                                </select>
                            </div>
                        </div>
                    </li>
                    <li class="item-content item-input">
                        <div class="item-media">
                            <i class="icon f7-icons md-only color-orange">compose_fill</i>
                        </div>
                        <div class="item-inner">
                            <div class="item-input-wrap">
                                <select id="ddlSubject3">
                                    <option value="" selected>Select Subject 3</option>
                                    <option value="Art and Craft" >Art and Craft</option>
                                    <option value="Bharatnatyam" >Bharatnatyam</option>
                                    <option value="Katthak" >Katthak</option>
                                    <option value="Odissi" >Odissi</option>
                                    <option value="Classical music">Classical music</option>
                                    <option value="Recitation">Recitation</option>
                                    <option value="Spanish Guitar">Spanish Guitar</option>
                                    <option value="Key Board">Key Board</option>
                                    <option value="Western">Western</option>
                                </select>
                            </div>
                        </div>
                    </li>

                   
                </ul>
            </form>
           
            <div class="row">
                <div class="col"></div>
                <div class="col"><button @click="openCamera" class="col button"><i class="f7-icons size-50">drawers</i></button></div>
               
                
                <div class="col"><button @click="openGellery" class="col button"><i class="f7-icons size-50">camera_fill</i></button></div>
                <div class="col"></div>
            </div>
            <div class="row" style="margin-top: 12px;">
                <button onclick="phonegapApp.requestOTPforEnquiryForm()" class="col button button-fill color-orange">Submit</button>
            </div>
        </div>
    </div>
</template>
<script>
    return {
        methods: {
            // This Function For Name Update
            // updateProfile: function () {
            //     let userFullName = $('#txtUserFullName').val();
            //     $.ajax({
            //         type: "post",
            //         url: "http://platterexoticfood.com/pladmin/manage_api/cust_profile_update/",
            //         data: { user: localStorage.getItem("platuser"), field: 'profName', fieldvalue: userFullName },
            //         dataType: "JSON"
            //     }).done(function (replay) {
            //         localStorage.setItem('user_name', userFullName);
            //         window.plugins.toast.showLongBottom('Name Update Successfully');
            //     });
            // },

            //This Function  For Select Image Fom Camera
            openCamera: function () {
                navigator.camera.getPicture(onSuccess, onFail, {
                    quality: 20,
                    destinationType: Camera.DestinationType.FILE_URL
                });
            },

            // This Function For Open Gallery
            openGellery: function () {
                navigator.camera.getPicture(onSuccess, onFail, {
                    quality: 50,
                    sourceType: Camera.PictureSourceType.PHOTOLIBRARY,
                    allowEdit: true,
                    destinationType: Camera.DestinationType.FILE_URI
                });
            },
            onSuccess: function (imageURI) {
                imageData = "data:image/png;base64," + imageData;
                
                $("#profile_image").attr("src", imageData);

                $.ajax({
                    url: url + 'apply_image',
                    method: 'post',
                    dataType: 'JSON',
                    data: { user: user, image: imageData }
                }).done(function (res) {
                    if (!res.success) {
                        window.plugins.toast.show('Failed because: ' + res.message, 'long', 'bottom', function (a) { }, function (b) { });
                    }
                }).fail();
            },
            onFail: function (message) {
                window.plugins.toast.showLongBottom('Failed because: ' + message);
            }
        }
    }
</script>